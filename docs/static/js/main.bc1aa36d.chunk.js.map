{"version":3,"sources":["components/Header.js","context/CategoryContext.js","context/RecipesContext.js","components/Form.js","context/ModalContext.js","components/Recipe.js","components/RecipesList.js","App.js","index.js"],"names":["Header","className","CategoryContext","createContext","CategoryProvider","props","useState","categories","saveCategory","useEffect","a","async","axios","get","data","meals","getCategory","Provider","value","children","RecipesContext","RecipesProvider","recipes","saveRecipes","name","category","search","searchRecipes","consult","saveConsult","url","result","getRecipes","Form","saveSearch","useContext","getDataRecipe","ev","target","onSubmit","preventDefault","type","placeholder","onChange","map","key","strCategory","ModalContext","ModalProvider","idrecipe","saveIdRecipe","info","saveRecipe","getRecipe","getModalStyle","top","left","transform","useStyles","makeStyles","theme","paper","position","width","backgroundColor","palette","background","boxShadow","shadows","padding","spacing","overflow","height","display","Recipe","recipe","modalStyle","open","setOpen","classes","strMeal","src","strMealThumb","alt","onClick","idMeal","Modal","onClose","style","strInstructions","ingredients","i","push","showIngredients","RecipesList","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bc1aa36d.chunk.js","sourcesContent":["import React from 'react';\nconst Header = () => {\n  return (\n    <header className=\"bg-alert\">\n      <h1>Buscador de recetas</h1>\n    </header>\n  );\n}\n\nexport default Header;","import React, { createContext, useState, useEffect } from 'react';\nimport axios from 'axios';\n\n\n//Creo el Context\n\nexport const CategoryContext = createContext();\n\n//Provider para encontrar funciones y state\n\nconst CategoryProvider = (props) => {\n\n  const [categories, saveCategory] = useState([]);\n\n  //Llamada a la API\n  useEffect(() => {\n    const getCategory = async () => {\n      const url = 'https://www.themealdb.com/api/json/v1/1/list.php?c=list';\n      const categories = await axios.get(url);\n      saveCategory(categories.data.meals);\n\n    }\n    getCategory();\n  }, []);\n\n  return (\n    <CategoryContext.Provider\n      value={{\n        categories\n      }}>\n\n      {props.children}\n    </CategoryContext.Provider>\n  )\n\n\n}\nexport default CategoryProvider;","import React, { createContext, useState, useEffect } from 'react';\nimport axios from 'axios';\nexport const RecipesContext = createContext();\n\nconst RecipesProvider = (props) => {\n\n  const [recipes, saveRecipes] = useState([])\n  const [search, searchRecipes] = useState({\n    name: '',\n    category: ''\n  });\n\n  const [consult, saveConsult] = useState(false);\n\n  const { name, category } = search;\n\n  useEffect(() => {\n    if (consult) {\n      const getRecipes = async () => {\n        const url = `https://themealdb.com/api/json/v1/1/filter.php?i=${name}&c=${category}`\n        const result = await axios.get(url);\n\n        saveRecipes(result.data.meals);\n      }\n      getRecipes();\n    }\n\n  }, [search])\n  return (\n\n    <RecipesContext.Provider\n      value={{\n        recipes,\n        searchRecipes,\n        saveConsult\n      }}\n    >\n      {props.children}\n    </RecipesContext.Provider>\n  )\n}\nexport default RecipesProvider;","import React, { useContext, useState } from 'react';\nimport { CategoryContext } from '../context/CategoryContext';\nimport { RecipesContext } from '../context/RecipesContext';\n\nconst Form = () => {\n  const [search, saveSearch] = useState({\n    name: '',\n    category: ''\n  })\n  const { categories } = useContext(CategoryContext);\n  const { searchRecipes, saveConsult } = useContext(RecipesContext);\n  //función para leer los contenidos\n  const getDataRecipe = ev => {\n\n    saveSearch({\n      ...search,\n      [ev.target.name]: ev.target.value\n    })\n  }\n  return (\n\n    <form\n      className=\"col-12\"\n      onSubmit={ev => {\n        ev.preventDefault();\n        searchRecipes(search);\n        saveConsult(true);\n      }}\n    >\n\n      <fieldset className=\"text-center\">\n        <legend>Busca por categoría o ingrediente</legend>\n      </fieldset>\n\n      <div className=\"row mt-4\">\n        <div className=\"col-md-4\">\n          <input\n            name=\"name\"\n            className=\"form-control\"\n            type=\"text\"\n            placeholder=\"Buscar por ingrediente\"\n            onChange={getDataRecipe}\n          />\n        </div>\n\n        <div className=\"col-md-4\">\n          <select\n            className=\"form-control\"\n            name=\"category\"\n            onChange={getDataRecipe}\n          >\n            <option value=\"\">Selecciona categoría</option>\n            {categories.map(category => (\n              <option key={category.strCategory}\n                value={category.strCategory}>{category.strCategory}</option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"col-md-4\">\n          <input\n            type=\"submit\"\n            className=\"btn btn-block btn-primary\"\n            value=\"Buscar\"\n          />\n        </div>\n      </div>\n    </form>\n  )\n}\nexport default Form;","import React, { createContext, useState, useEffect } from 'react';\nimport axios from 'axios';\n\n//crear el context\nexport const ModalContext = createContext();\n\nconst ModalProvider = (props) => {\n\n  //state del provider\n  const [idrecipe, saveIdRecipe] = useState(null);\n  const [info, saveRecipe] = useState({});\n\n  //Teniendo una receta, llamamos a la api para que nos muestre el detalle de la misma\n  useEffect(() => {\n    const getRecipe = async () => {\n      if (!idrecipe) return;\n      const url = `https://www.themealdb.com/api/json/v1/1/lookup.php?i=${idrecipe}`;\n      const result = await axios.get(url);\n      saveRecipe(result.data.meals[0]);\n      \n    }\n    getRecipe();\n  }, [idrecipe]);\n\n  return (\n    <ModalContext.Provider\n      value={{\n        info,\n        saveIdRecipe,\n        saveRecipe\n      }}>\n      {props.children}\n    </ModalContext.Provider>\n  );\n}\nexport default ModalProvider;","import React, { useContext, useState } from 'react';\nimport { ModalContext } from '../context/ModalContext';\nimport Modal from '@material-ui/core/Modal';\nimport { makeStyles } from '@material-ui/core/styles';\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n    \n  };\n}\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    position: 'absolute',\n    width: 800,\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    overflow:'scroll',\n    height:'100%',\n    display:'block'\n  },\n}));\n\n\nconst Recipe = ({ recipe }) => {\n\n  //Configuración del modal de matrial-ui\n  const [modalStyle] = useState(getModalStyle);\n  const [open, setOpen] = useState(false);\n\n  const classes = useStyles();\n  const handleOpen = () => {\n    setOpen(true);\n  }\n  const handleClose = () => {\n    setOpen(false);\n  }\n\n  //extraemos los valores del ModalContext\n  const { info, saveIdRecipe, saveRecipe } = useContext(ModalContext);\n  //mostrar ingredientes en función de la info traída de la API\n  const showIngredients = info => {\n    let ingredients = [];\n    for (let i = 1; i < 16; i++) {\n      if (info[`strIngredient${i}`]) {\n        ingredients.push(\n          <li>{info[`strIngredient${i}`]} {info[`strMeasure${i}`]}</li>\n        )\n      }\n    }\n    return ingredients;\n  }\n\n  return (\n    <div className=\"col-md-4 mb-3\">\n      <div className=\"card\">\n        <h2 className=\"card-header\">{recipe.strMeal}</h2>\n        <img className=\"card-img-top\" src={recipe.strMealThumb} alt={`Imagen de ${recipe.strMeal}`} />\n        <div className=\"card-body\">\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block\"\n            onClick={() => {\n              saveIdRecipe(recipe.idMeal);\n              handleOpen();\n            }}\n          >\n            Ver receta\n          </button>\n\n\n          <Modal\n            open={open}\n            onClose={() => {\n              saveIdRecipe(null);\n              saveRecipe({});\n              handleClose();\n            }}>\n            <div style={modalStyle} className={classes.paper}>\n              <h2>{info.strMeal}</h2>\n              <h3 className=\"mt-4\">Instrucciones</h3>\n              <p>{info.strInstructions}</p>\n              <img className=\"img-fluid my-4\" src={info.strMealThumb} alt={info.strMeal} />\n              <h3>Ingredientes y cantidades</h3>\n              <ul>\n                {showIngredients(info)}\n              </ul>\n            </div>\n          </Modal>\n        </div>\n      </div>\n    </div>\n  );\n}\nexport default Recipe;","import React, { useContext } from 'react';\nimport Recipe from './Recipe';\nimport { RecipesContext } from '../context/RecipesContext';\n\nconst RecipesList = () => {\n\n  //sacamos las Recetas\n  const { recipes } = useContext(RecipesContext);\n\n  return (\n    <div className=\"row mt-5\">\n      {recipes.map(recipe => (\n        <Recipe\n        key={recipe.idMeal}\n        recipe={recipe}\n        />\n      ))}\n    </div>\n\n  );\n}\nexport default RecipesList;","import React from 'react';\nimport Header from './components/Header';\nimport Form from './components/Form';\nimport RecipesList from './components/RecipesList';\nimport CategoryProvider from './context/CategoryContext';\nimport RecipesProvider from './context/RecipesContext';\nimport ModalProvider from './context/ModalContext';\n\nfunction App() {\n  return (\n    <CategoryProvider>\n      <RecipesProvider>\n        <ModalProvider>\n          <Header />\n          <div className=\"container mt-5\">\n            <div className=\"row\">\n              <Form />\n            </div>\n            <RecipesList />\n          </div>\n        </ModalProvider>\n      </RecipesProvider>\n    </CategoryProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './bootstrap.min.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}